<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="../../assets/logo.png" type="image/png">
    <title>CSI Volume Cloning</title>
    <link rel="stylesheet" href="../../styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-dracula.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-yaml.min.js"></script>
  </head>
  <body class="dark-mode" onload="loadSidebar()">
    <!--Header -->
    <header>
      <div class="header-content">
        <div class="title-and-subheader">
            <div class="title-container">
                <a href="/index.html">
                    <img src="../../assets/logo.png" alt="Logo" id="logo" />
                </a>
                <h1>K8s Guide</h1>
            </div>
            <h3 class="sub-header">Your TLDR guide to Kubernetes documentation</h3>
        </div>
    </header>
    <div id="hamburger-container">
      <button id="hamburger-menu">â˜°</button>
    </div>

    <!--Sidebar -->
    <nav id="sidebar"></nav>
    <!--Main Content -->
    <main>
      <h1>CSI Volume Cloning</h1>
      
<br><br>
<h3>Introduction</h3>

The document introduces the concept of cloning existing Container Storage Interface (CSI) Volumes in Kubernetes. The feature allows you to specify existing Persistent Volume Claims (PVCs) in the `dataSource` field to indicate that you want to clone a volume. A clone is essentially a duplicate of an existing Kubernetes volume that behaves like any standard volume. The key difference is that upon provisioning, the backend device creates an exact duplicate of the specified volume instead of a new empty one.

<br><br>
<h3>Implementation</h3>

From the Kubernetes API perspective, cloning is implemented by allowing you to specify an existing PVC as a `dataSource` during new PVC creation. The source PVC must be bound and available, meaning it should not be in use.

<br><br>
<h3>User Considerations</h3>

<li>Cloning support is only available for CSI drivers.</li>
<li>Only dynamic provisioners support cloning.</li>
<li>CSI drivers may or may not have implemented volume cloning.</li>
<li>Cloning can only be done within the same namespace for both source and destination PVCs.</li>
<li>Cloning is supported with different Storage Classes.</li>
<li>The destination volume can have the same or a different storage class as the source.</li>
<li>The default storage class can be used, and `storageClassName` can be omitted in the spec.</li>
<li>Cloning can only be done between two volumes that use the same `VolumeMode` setting.</li>

<br><br>
<h3>Provisioning</h3>

Clones are provisioned like any other PVC, except that a `dataSource` is added that references an existing PVC in the same namespace. The document provides a YAML example for creating a new PVC that is a clone of an existing one.

<br><br>
<h3>Usage</h3>

Once the new PVC is available, it can be consumed like any other PVC. It becomes an independent object that can be consumed, cloned, snapshotted, or deleted independently. The source is not linked to the newly created clone in any way, allowing for modifications or deletions without affecting the clone.
    <br><br><br></main>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!--Dark/Light Mode Toggle -->
    <button id="mode-toggle" onclick="toggleMode()">
      <span class="material-icons">brightness_7</span>
    </button>
    <!--Scroll-to-Top Button -->
    <button id="scroll-top" onclick="scrollToTop()">
      <span class="material-icons">arrow_upward</span>
    </button>

    <!-- Next Page Button -->
    <button id="next-page" onclick="navigateNext()">
        <span class="material-icons">arrow_forward</span>
    </button>

    <!-- Random Page Button -->
    <button id="randomizer">
    <span class="material-icons">shuffle</span>
    </button>

    <!--Mobile Menu -->
    <div id="mobile-menu"></div>
    <script src="../../script.js"></script>
  </body>
</html>
