<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="../../assets/logo.png" type="image/png">
    <title>Volume Health Monitoring</title>
    <link rel="stylesheet" href="../../styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-dracula.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-yaml.min.js"></script>
  </head>
  <body class="dark-mode" onload="loadSidebar()">
    <!--Header -->
    <header>
      <div class="header-content">
        <div class="title-and-subheader">
            <div class="title-container">
                <a href="/index.html">
                    <img src="../../assets/logo.png" alt="Logo" id="logo" />
                </a>
                <h1>K8s Guide</h1><br><br><br>
            </div>
            <h3 class="sub-header">Your TLDR guide to Kubernetes documentation</h3>
        </div>
    </header>
    <div id="hamburger-container">
      <button id="hamburger-menu">â˜°</button>
    </div>

    <!--Sidebar -->
    <nav id="sidebar"></nav>
    <!--Main Content -->
    <main>
      <h1>Volume Health Monitoring</h1><br><br><br>
<h3>Feature State</h3>
The feature is in alpha state as of Kubernetes v1.21.

<br><br><br>
<h3>Overview</h3>

Volume Health Monitoring in Kubernetes is part of the Container Storage Interface (CSI). It allows CSI Drivers to detect abnormal conditions in the underlying storage systems and report them as events on Persistent Volume Claims (PVCs) or Pods.

<br><br><br>
<h3>Components</h3>

The feature is implemented in two main components:
<ol class="indented">
<li>External Health Monitor Controller: This controller watches for abnormal volume conditions and reports them on the related PVC.</li>
<li>Kubelet: It also plays a role in volume health monitoring.</li>
</ol>
<br><br><br>
<h3>Controller-Side Monitoring</h3>

If a CSI Driver supports this feature from the controller side, an event will be reported on the related PVC when an abnormal volume condition is detected. The External Health Monitor controller also watches for node failure events. You can enable node failure monitoring by setting the `enable-node-watcher` flag to true. When a node failure is detected, an event is reported on the PVC to indicate that pods using this PVC are on a failed node.

<br><br><br>
<h3>Node-Side Monitoring</h3>

If a CSI Driver supports this feature from the node side, an event will be reported on every Pod using the PVC when an abnormal volume condition is detected.

<br><br><br>
<h3>Metrics</h3>

Volume Health information is also exposed as Kubelet VolumeStats metrics. A new metric `kubelet_volume_stats_health_status_abnormal` is added, which includes two labels: `namespace` and `persistentvolumeclaim`. The count is either 1 or 0, where 1 indicates the volume is unhealthy and 0 indicates the volume is healthy.
    <br><br><br></main>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <!--Dark/Light Mode Toggle -->
    <button id="mode-toggle" onclick="toggleMode()">
      <span class="material-icons">brightness_7</span>
    </button>
    <!--Scroll-to-Top Button -->
    <button id="scroll-top" onclick="scrollToTop()">
      <span class="material-icons">arrow_upward</span>
    </button>

    <!-- Next Page Button -->
    <button id="next-page" onclick="navigateNext()">
        <span class="material-icons">arrow_forward</span>
    </button>

    <!-- Random Page Button -->
    <button id="randomizer">
    <span class="material-icons">shuffle</span>
    </button>

    <!--Mobile Menu -->
    <div id="mobile-menu"></div>
    <script src="../../script.js"></script>
  </body>
</html>
